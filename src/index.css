@import url("https://fonts.googleapis.com/css2?family=DM+Serif+Text:ital@0;1&family=Mona+Sans:ital,wght@0,200..900;1,200..900&display=swap");
@import "tailwindcss";

@font-face {
    font-family: "Modern Negra";
    src: url("/fonts/Bohemian Soul.otf") format("truetype");
}

@theme {
    --color-yellow: #e7d393;
    --color-white-100: #efefef;
    --font-sans: "Mona Sans", sans-serif;
    --font-modern-negra: "Modern Negra", sans-serif;
    --font-serif: "DM Serif Text", serif;
    --color-gold-border: #a88d5e; /* New: Vintage gold border color */
    --color-dark-paper: #2a2824; /* New: Dark, slightly brownish paper background */
    --color-dark-metal: #1d1c1a; /* New: Dark metal for logos */
}

html,
body {
    width: 100%;
    background-color: #131111;
    color: white;
    scroll-behavior: smooth;
    overflow-x: hidden;
}

@utility flex-center { @apply flex justify-center items-center; }
@utility col-center { @apply flex flex-col justify-center items-center; }
@utility abs-center { @apply absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2; }

@utility text-gradient {
    background: linear-gradient(to bottom, #ffffff, #898989);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}

@utility radial-gradient {
    background: radial-gradient(circle at center, #434343 0%, #000 50%, transparent 100%);
}

@utility masked-img {
    mask-image: url("/images/mask-img.png");
    mask-repeat: no-repeat;
    mask-position: center;
    mask-size: 50%;
}

@layer utilities {
    .custom-tooltip-trigger { position: relative; }

    .custom-tooltip-trigger[data-tooltip]::before,
    .custom-tooltip-trigger[data-tooltip]::after {
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        pointer-events: none;
    }

    /* Tooltip text */
    .custom-tooltip-trigger[data-tooltip]::before {
        content: attr(data-tooltip);
        position: absolute;
        bottom: calc(100% + 10px);
        left: 50%;
        transform: translateX(-50%) translateY(0);
        background-color: var(--color-white-100);
        color: black;
        padding: 6px 10px;
        border-radius: 4px;
        white-space: nowrap;
        font-size: 0.875rem;
        z-index: 100;
    }

    /* Tooltip arrow */
    .custom-tooltip-trigger[data-tooltip]::after {
        content: '';
        position: absolute;
        bottom: calc(101%);
        left: 50%;
        transform: translateX(-50%) translateY(0);
        border-width: 5px;
        border-style: solid;
        border-color: var(--color-white-100) transparent transparent transparent;
        z-index: 100;
    }

    .custom-tooltip-trigger[data-tooltip]:hover::before,
    .custom-tooltip-trigger[data-tooltip]:hover::after {
        opacity: 1;
        visibility: visible;
        transition-delay: 0.1s;
    }

    .bleed-100vw {
        left: 50%;
        transform: translateX(-50%); /* center on the viewport */
        width: 100vw;
        max-width: 100vw;
        overflow: clip;   /* prevents the extra scrollbar */
        contain: paint;
        pointer-events: none;
        white-space: nowrap;
    }

    /* New: Vintage Shadow and Noise */
    .shadow-vintage {
        box-shadow: 8px 8px 0px rgba(var(--color-gold-border) / 0.3), 15px 15px 0px rgba(0,0,0,0.1);
    }

    .shadow-xl-vintage {
        box-shadow: 12px 12px 0px rgba(var(--color-gold-border) / 0.4), 20px 20px 0px rgba(0,0,0,0.2);
    }

    .bg-noise-dark {
        background: #161616; /* Base dark color */
        position: relative;
    }
    .bg-noise-dark::before {
        content: '';
        position: absolute;
        inset: 0;
        background: url('/images/noise.png'); /* Ensure you have a subtle noise texture */
        opacity: 0.05; /* Adjust opacity for subtlety */
        pointer-events: none;
    }
    .shadow-inner-vintage {
        box-shadow: inset 0px 0px 8px rgba(0,0,0,0.5), inset 0px 0px 2px rgba(var(--color-gold-border) / 0.3);
    }
}

@layer components {
    main { @apply w-full overflow-x-hidden; }

    nav {
        @apply fixed z-50 w-full;
        backdrop-filter: blur(10px);
        background-color: transparent;
        transition: background-color 0.5s ease-out;

        div { @apply flex md:flex-row flex-col md:justify-between items-center gap-5 py-5 lg:px-0 px-5 container mx-auto; }
        p { @apply font-modern-negra text-3xl -mb-2; }
        a { @apply cursor-pointer text-nowrap md:text-base text-sm; }
        ul { @apply flex-center lg:gap-12 gap-5 md:gap-7; }
    }

    .scrolling-text-bg-l,
    .scrolling-text-bg-r {
        @apply absolute w-full whitespace-nowrap z-0 pointer-events-none text-6xl md:text-7xl lg:text-8xl font-modern-negra;
        font-family: var(--font-modern-negra);
        color: transparent;
        -webkit-text-stroke: 4px var(--color-gold-border); /* Changed to gold border */
        text-stroke: 3px var(--color-gold-border);
        opacity: 0.04; /* Slightly more visible */
        user-select: none;
        line-height: 1;
        will-change: transform;
        width: 100vw;
        max-width: 100vw;
        overflow: clip;
        contain: paint;
    }

    .scrolling-text-bg-l { left: 0; }
    .scrolling-text-bg-r { right: 0; }

    .scrolling-text-bg-l .scroll-content,
    .scrolling-text-bg-r .scroll-content {
        display: inline-block;
        min-width: 200%;
    }

    @keyframes scroll-left {
        0% { transform: translateX(0%); }
        100% { transform: translateX(-50%); }
    }

    @keyframes scroll-right {
        0% { transform: translateX(-50%); }
        100% { transform: translateX(0%); }
    }

    .scrolling-text-bg-l .scroll-content {
        animation: scroll-left 60s linear infinite;
    }

    .scrolling-text-bg-r .scroll-content {
        animation: scroll-right 60s linear infinite;
    }
}

.text-outline-shadow {
    color: #111;
    text-shadow:
            2px 0 0 var(--color-yellow), -2px 0 0 var(--color-yellow), 0 2px 0 var(--color-yellow), 0 -2px 0 var(--color-yellow),
            2px 2px 0 var(--color-yellow), -2px -2px 0 var(--color-yellow), 2px -2px 0 var(--color-yellow), -2px 2px 0 var(--color-yellow);
}

/* Subtle focus ring for keyboard users */
article:focus-visible {
    outline: 2px solid var(--color-yellow);
    outline-offset: 4px;
}

/* Timeline dot pulse on hover */
@keyframes dot-pop {
    0% { transform: scale(1); }
    50% { transform: scale(1.15); }
    100% { transform: scale(1); }
}
@media (hover: hover) {
    article:hover > span[aria-hidden="true"] {
        animation: dot-pop 0.8s ease-in-out;
    }
}

/* Respect reduced motion: stop marquee animation and heavy transforms */
@media (prefers-reduced-motion: reduce) {
    .scrolling-text-bg-l .scroll-content,
    .scrolling-text-bg-r .scroll-content {
        animation: none !important;
        transform: none !important;
    }
}

/* Subtle highlight for keywords inside descriptions */
.highlight {
    background: color-mix(in oklab, var(--color-yellow) 35%, transparent); /* More transparent yellow highlight */
    padding: 0 .3rem;
    border-radius: .25rem;
    box-decoration-break: clone;
    font-weight: bold; /* Make highlighted text bold */
    color: var(--color-white-100); /* Ensure readability */
}

/* Improve article focus + hover depth */
article {
    transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
/* Removed frame hover effect for diplomas */
.map article:hover {
    transform: none !important;
}
article:hover {
    /* Only keep transform for articles, not for diploma frames */
    transform: translateY(-6px);
}

/* Custom styling for strong tags inside description list items */
li strong {
    color: var(--color-yellow); /* Make bold text yellow for better visibility */
}

/* --- Hero Section Styles (Provided by you, kept for completeness) --- */
#hero {
    @apply relative z-10 min-h-dvh w-full border border-transparent flex flex-col pt-20 pb-10;

    .title-wrapper {
        @apply relative;
        backface-visibility: hidden;
        transform: translateZ(0);
        will-change: transform, opacity;
    }

    h1.title {
        @apply mt-10 md:mt-20 text-8xl md:text-[14vw] leading-none text-center font-modern-negra;
        color: white;
        backface-visibility: hidden;
        transform: translateZ(0);
        will-change: transform;
        -webkit-font-smoothing: antialiased;
        text-rendering: geometricPrecision;
        paint-order: stroke fill;
    }

    h1.title.outline-text-overlay {
        @apply absolute inset-0 flex justify-center items-center z-2;
        font-family: var(--font-modern-negra);
        text-align: center;

        backface-visibility: hidden;
        transform: translateZ(0);
        will-change: transform;
        -webkit-font-smoothing: antialiased;
        text-rendering: geometricPrecision;
        paint-order: stroke fill;
        pointer-events: none;
    }

    .body {
        @apply container mx-auto flex flex-col lg:flex-row justify-between items-start lg:items-end px-5 flex-grow mt-10;

        .content {
            @apply flex flex-col w-full lg:w-fit gap-2 lg:gap-5 items-center lg:items-start text-center lg:text-left mb-10 lg:mb-0;

            p:nth-of-type(1) { @apply text-lg sm:text-xl lg:text-2xl font-serif text-white/70; }

            p.subtitle {
                @apply font-modern-negra text-4xl sm:text-5xl md:text-6xl lg:text-6xl xl:text-7xl text-yellow max-w-4xl leading-tight;
            }

            p.subtitle i { @apply hidden lg:inline text-white/70 text-xl sm:text-2xl lg:text-3xl mt-2; }
        }

        .actions {
            @apply flex flex-col items-center lg:items-center justify-center self-center lg:self-end text-yellow lg:mb-0;
        }
    }

    .btn-resume {
        @apply cursor-pointer transition-all px-12 py-4 rounded-lg bg-yellow text-black border-b-[4px] inline-flex items-center font-semibold mb-6;
        border-color: color-mix(in oklab, black 25%, var(--color-yellow));
        min-width: 200px;
        justify-content: center;
    }
    .btn-resume:hover { background-color: #efe1b8; }
    .btn-resume:active { background-color: #d6c380; }

    .icon-link {
        @apply cursor-pointer p-3 rounded-full flex items-center justify-center;
        color: var(--color-yellow);
        transition: background-color 0.3s ease;
    }
    .icon-link:hover {
        color: #efe1b8;
        background-color: rgba(255, 255, 255, 0.1);
    }
    .icon-link:active {
        color: #d6c380;
        background-color: rgba(255, 255, 255, 0.2);
    }
}

/* Custom JSON Syntax Highlighting for the IDE */
.json-key {
    color: #9cdcfe; /* Light blue for keys */
}

.json-string {
    color: #ce9178; /* Orange-red for strings */
}

.json-number {
    color: #ce9178; /* Light green for numbers */
}

.json-boolean-null {
    color: #569cd6; /* Blue for booleans and null */
}

.json-brace {
    color: #d4d4d4; /* VSCode purple for {} */
}
.json-bracket {
    color: #d4d4d4; /* VSCode yellow for [] */
}
.json-comma {
    color: #d4d4d4; /* Light gray for commas */
}

.json-highlight-green {
    color: #b5cea8; /* Green for highlighted text */
    font-weight: bold;
}

/* Custom dark scrollbar for preview window */
.custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: #444 #181818;
}

.custom-scrollbar::-webkit-scrollbar {
    width: 10px;
    background: #181818;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
    background: #444;
    border-radius: 6px;
    border: 2px solid #181818;
}
.custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #666;
}

.diploma-frame{
    /* container size */
    max-width: 680px;
    width: min(92vw, 680px);
    aspect-ratio: 16 / 10;

    /* thickness variables (thin on small widths) */
    --bw-frame: clamp(2px, 0.7vw, 5px);
    --bw-flat: clamp(6px, 1.7vw, 12px);
    --bw-inner: clamp(2px, 0.7vw, 5px);
    --gap-gold: clamp(5px, 0.9vw, 10px); /* inset for the thin gold line */

    /* base content scale (smaller viewports => smaller type/images) */
    --d-font: clamp(10px, 1.05vw, 16px);

    /* colors */
    --c-outer-a: rgb(109, 84, 58);
    --c-outer-b: rgb(24, 19, 13);
    --c-flat: rgb(65, 40, 16);
    --c-inner-a: rgb(24, 19, 13);
    --c-inner-b: rgb(109, 84, 58);
    --c-gold: rgba(168,141,94,0.55);

    box-shadow: 4px 6px 12px 0 black;
    border-style: solid;
    border-width: var(--bw-frame);
    border-color: var(--c-outer-a) var(--c-outer-b) var(--c-outer-b) var(--c-outer-a);
    margin: 0 auto;
    display: flex; align-items: center; justify-content: center;
    overflow: hidden; position: relative;
    background:#1a140e;
}

.flatSurface{
    border: var(--bw-flat) solid var(--c-flat);
    width: 100%; height: 100%;
    display:flex; align-items:center; justify-content:center;
    position:relative; overflow:hidden;
}

/* inner thin gold line */
.diploma-frame .gold-line{
    position:absolute;
    inset: var(--gap-gold);
    border: 1.5px solid var(--c-gold);
    pointer-events:none;
}

.innerBevel{
    width:100%; height:100%;
    display:flex; align-items:center; justify-content:center;
    position:relative; overflow:hidden;
    border-style: solid;
    border-width: var(--bw-inner);
    border-color: var(--c-inner-a) var(--c-inner-b) var(--c-inner-b) var(--c-inner-a);
}

/* Paper */
.paper-texture.diploma-paper{
    display:block; width:100%; height:100%;
    background-color: rgb(255,249,224);
    border: 3px solid;
    border-color: rgb(207,166,0) rgb(207,166,0) rgb(145,110,0) rgb(145,110,0);
    position:relative; overflow:hidden;
    /* CONTENT SCALE HERE */
    font-size: var(--d-font);
    /* padding scales with size */
    padding: 8% 10% 12% 10%;
}

/* ----- diploma content that scales with font-size (em) ----- */
.diploma-content{ height:100%; width:100%; }
.d-crest{
    display:block;
    margin: 0 auto 0.6em auto;
    width: clamp(44px, 7.5vw, 85px);
    height: auto;
    object-fit: contain;
    opacity:.95;
}
.d-header .divider{ margin: .25em auto 0; height:1px; width: 12em; background: #a88d5e33; }

/* Typography in em so it follows --d-font */
.diploma-word{
    font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
    letter-spacing: .25em;
    color: #6b6b6b;
    text-transform: uppercase;
    font-size: clamp(.65em, 1.25vw, .9em);
    margin-bottom: .25em;
}

.uni{
    font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
    color: #7f693f;
    font-size: clamp(1.4em, 3.1vw, 2.3em);
    line-height: 1.1;
}

.dept{
    font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
    color:#2f2f2f;
    font-size: clamp(1em, 1.9vw, 1.25em);
}

.meta{
    color:#565656;
    font-size: clamp(.85em, 1.6vw, 1.05em);
}
.gpa{ margin-top: .9em; }

/* footer */
.d-footer{ margin-top: 1.7em; }
.footer-slot{
    position:relative;
    width: 10em;
    height: .6rem;
    margin: 0 auto;
}
.footer-slot .rule{
    position:absolute; left:50%; bottom:.5rem;
    transform: translateX(-50%);
    height:1px; width:100%; background: rgba(168,141,94,.4);
}
.footer-slot .label{
    position:absolute; left:50%; bottom:-0.5rem; transform:translateX(-50%);
    color:#6b5a37; letter-spacing:.12em; text-transform:uppercase;
    font-size: clamp(.6em, 1.2vw, .75em);
}
.diploma-signature{
    position:absolute; left:50%; bottom:.5rem; transform:translateX(-50%) rotate(-2deg);
    width: min(9em, 95%); max-height: 3em; opacity:.9; filter: contrast(.9) saturate(.9);
    pointer-events:none; user-select:none;
}
.diploma-date{
    position:absolute; left:50%; bottom:.55rem; transform:translateX(-50%);
    color:#5f4c2a; letter-spacing:.04em; white-space:nowrap;
    font-size: clamp(.7em, 1.3vw, .85em);
}

/* watermark and stamp scale with container */
.diploma-watermark{
    position:absolute; left:25%; top:25%;
    transform: translate(-65%,-55%);
    width: clamp(40%, 60%, 60%); opacity:.06;
    filter: grayscale(100%) contrast(.9);
    pointer-events:none; user-select:none;
}

.diploma-stamp{
    position:absolute; right:5%; bottom:7%;
    width: clamp(40px, 10%, 70px);
    opacity:.75; transform: rotate(-6deg);
    mix-blend-mode: multiply; filter: contrast(1.05) saturate(.9);
    pointer-events:none; user-select:none;
}

/* keep square corners for all frame layers */
.outerBevel, .flatSurface, .innerBevel{ border-radius:0 !important; }

/* Paper texture (preserved) */
.paper-texture{
    background-color:#fffbe9;
    background-image:
            linear-gradient(rgba(255,255,255,.7), rgba(255,255,255,.7)),
            url('/images/parchement_texture.jpg'),
            linear-gradient(rgba(255,255,255,.5), rgba(255,255,255,.5)),
            url('/images/noise.png'),
            repeating-linear-gradient(135deg, rgba(255,255,255,.07) 0px, rgba(255,255,255,.07) 2px, transparent 2px, transparent 8px),
            repeating-linear-gradient(45deg, rgba(230,220,180,.06) 0px, rgba(230,220,180,.06) 4px, transparent 4px, transparent 12px);
    background-blend-mode: normal, multiply, normal, multiply, lighten, normal;
    background-size: cover, cover, cover, 300px 300px, 100px 100px, 120px 120px;
    border-radius:0 !important;
    box-shadow: inset 0 2px 12px rgba(0,0,0,.07);
    position:relative; z-index:1;
}

/* Shine effect (unchanged) */
.shine{ position:relative; overflow:hidden; }
.shine::before{
    content:""; position:absolute; top:0; left:-75%;
    width:70%; height:100%;
    background: linear-gradient(120deg, rgba(255,255,255,0) 0%,
    rgba(255,255,255,.85) 40%, rgba(255,255,255,.85) 60%, rgba(255,255,255,0) 50%);
    box-shadow: 0 0 24px 8px rgba(255,255,255,.25), 0 0 48px 16px rgba(255,255,255,.15);
    border-left:2px solid rgba(255,255,255,.5);
    border-right:2px solid rgba(255,255,255,.2);
    z-index:2; transform: skewX(-25deg);
    pointer-events:none; opacity:0; transition:left .85s, opacity .3s; will-change:left, opacity;
}
.shine:hover::before, .shine:focus::before{ left:125%; opacity:0.8; }

/* Mobile stacking already handled by flex, but keep spacing tidy */
@media (max-width: 420px){
    .diploma-frame{ width: 94vw; }
}



